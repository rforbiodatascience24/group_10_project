---
title: "01_load"
format: html
editor: visual
---

## Loading the raw data

```{r}
#Loading libraries
library(tidyverse) 
library(readxl)
library(here)
```




```{r}
raw_dir <- here("_raw/")
data_file <- "abm.xls"
data_loc <- "https://hbiostat.org/data/repo/"

if( !dir.exists(raw_dir) ){
  dir.create(path = raw_dir)
}

if( !file.exists(str_c(raw_dir,data_file)) ){
  download.file(
    url = str_c(data_loc,data_file),
    destfile = str_c(raw_dir, data_file))
}

#load(file = str_c(raw_dir, data_file))
```



```{r}
# Define directories
raw_dir <- here("_raw/")
save_dir <- here("data/")

# Read the Excel file
Read_raw_data <- read_excel(path = str_c(raw_dir, "raw_data.xlsx"))

# Write the data to a TSV file
write_tsv(x = Read_raw_data, file = str_c(save_dir, "01_dat_load.tsv"))

```
